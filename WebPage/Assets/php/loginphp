<?php
    include_once("connect.php");
    header('Content-Type: application/json');

    // Mock user data (in real apps, you'd fetch this from a database)
    $valid_users = 
    
    // Get the raw POST data
    $inputData = json_decode(file_get_contents('php://input'), true);
    
    // Check if the data is received and is valid
    if (isset($inputData['email']) && isset($inputData['password'])) {
        $email = $inputData['email'];
        $password = $inputData['password'];
    
        // Validate user credentials (simple check in this case)
        if (isset($valid_users[$email]) && $valid_users[$email] === $password) {
            // Mock token (this would normally be a JWT or similar token)
            $response = [
                'token' => 'mock-token-12345', // This would be dynamically generated
                'message' => 'Login successful',
            ];
            echo json_encode($response);
            http_response_code(200);
        } else {
            // Invalid credentials
            echo json_encode(['error' => 'Invalid email or password']);
            http_response_code(401); // Unauthorized
        }
    } else {
        echo json_encode(['error' => 'Email and password are required']);
        http_response_code(400); // Bad Request
    }